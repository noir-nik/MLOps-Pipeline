# Описание поставленной задачи

## Общая информация о проекте

Данный проект представляет собой разработку MLOps конвейера для обработки потоковых данных в области продаж товаров для велосипедов. Конвейер обеспечивает автоматическое развертывание ML-моделей с использованием CI/CD.

## Источник данных

В качестве источника данных используется набор данных по продажам товаров для велосипедов за 2011-2016 годы с Kaggle: [Bike Sales in Europe](https://www.kaggle.com/datasets/sadiqshah/bike-sales-in-europe).

Набор данных включает следующие переменные:
- `Day` (int64) - день 
- `Month` (object) - месяц
- `Year` (int64) - год
- `Customer_Age` (int64) - возраст клиента
- `Age_Group` (object) - возрастная группа
- `Customer_Gender` (object) - пол клиента
- `Country` (object) - страна
- `State` (object) - регион/штат
- `Product_Category` (object) - категория продукта
- `Sub_Category` (object) - подкатегория
- `Product` (object) - продукт
- `Order_Quantity` (int64) - количество заказанных единиц
- `Unit_Cost` (int64) - стоимость единицы
- `Unit_Price` (int64) - цена единицы
- `Profit` (int64) - прибыль (целевая переменная)
- `Cost` (int64) - стоимость
- `Revenue` (int64) - выручка

## Задача машинного обучения

**Тип задачи**: Регрессия

**Целевая переменная**: `Profit` (прибыль от продажи)

**Цель**: Прогнозирование прибыли от продажи товаров на основе характеристик заказа и клиента.

## Этапы MLOps конвейера

### 1. Сбор данных
- Автоматическая загрузка данных из Kaggle API
- Разделение данных на батчи фиксированного размера (1000 записей)
- Сохранение метаданных и информации о каждом батче
- Эмуляция потокового получения данных через последовательную обработку батчей

### 2. Анализ и оценка качества данных
- Расчет метрик качества данных для каждого батча:
  - Количество пропусков
  - Статистические характеристики числовых переменных
  - Частоты категориальных переменных
  - Выявление выбросов и аномалий
- Сохранение отчетов о качестве данных

### 3. Подготовка данных
- Обработка пропущенных значений
- Кодирование категориальных переменных (One-Hot Encoding)
- Масштабирование числовых переменных

### 4. Обучение и валидация моделей
- Обучение нескольких моделей машинного обучения:
  - Линейная регрессия
  - k-ближайших соседей (kNN)
  - Дерево решений
- Оценка качества моделей с использованием метрик:
  - RMSE (Root Mean Squared Error)
  - MAE (Mean Absolute Error)
  - R² (коэффициент детерминации)
- Выбор лучшей модели на основе метрик качества

### 5. Сохранение и управление моделями
- Сериализация и сохранение обученных моделей
- Хранение информации о гиперпараметрах и метриках моделей
- Визуализация структуры и важности признаков моделей

### 6. Обслуживание и мониторинг
- Применение моделей для предсказания на новых данных
- Мониторинг производительности модели
- Сохранение результатов предсказаний
- Генерация отчетов о работе системы

## CI/CD

Для обеспечения непрерывной интеграции и доставки используется GitHub Actions. Workflow настроен на:
- Автоматический запуск при push в основную ветку или создании pull request
- Итеративное обучение моделей
- Сохранение логов и артефактов обучения
